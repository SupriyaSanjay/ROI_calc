<!DOCTYPE html>

<html>

<head>

<title>Vendini ROI Calculator</title>
<meta charset="utf-8" />
<link href="ROI_style.css" rel="stylesheet" type="text/css"/>

</head>

<body>

<section id="questions">
	<div class="question-container">
		<h1>Calculate how much more money you can make with Vendini</h1>

		<form id="Revenue" href="javascript:;">
			<div class="form-group">
				<label for="venue_type">What type of venue do you own</label><br>
				<select id="venue_type">
					<option value="Arena, Conference Center, Expo">Arena, Conference Center, Expo</option>
					<option value="Casino">Casino</option>
					<option value="Fair, Attraction, Rodeo">Fair, Attraction, Rodeo</option>
					<option value="K-12">K-12</option>
					<option value="Comedy, Mixed Use Venue">Comedy, Mixed Use Venue</option>
					<option value="Museum, Tours">Museum, Tours</option>
					<option value="Professional Sports">Professional Sports</option>
					<option value="Live Music">Live Music</option>
					<option value="Night Club, Promoter">Night Club, Promoter</option>
					<option value="Performing Arts">Performing Arts</option>
					<option value="Festival">Festival</option>
					<option value="University">University</option>
				</select>
				<br>

				<label for="ROI">What is the average yearly revenue of your entertainment venue?</label><br>
				<input type="text" id="ROI" value=""><br>
	
				<label for="TPY">How many tickets does your venue sell yearly?</label><br>
				<input type="text" id="TPY" value=""><br> 

				<label for="TPrice">What is the average price of a ticket at your venue? </label><br>
				<input type="text" id="TPrice" value=""><br>

				<label for="Emplyee_wage">What does your average Box Office Employee earn, hourly?</label><br>
				<input type="text" id="Emplyee_wage" value=""><br>

				<label for="email_marketing">Choose which if the following e-mail marketing services you use</label><br>
				<select id="email_marketing">
					<option value="Mailchimp">Mailchimp</option>
					<option value="Constant Contact">Constant Contact</option>
					<option value="None">None</option>
				</select>
				<br>

			</div>
		</form>
		<button onclick="Calculate()">Calculate</button>

		<div id="Output" class="form-group"></div>
		<script>
		function Calculate() {

				var labeled_input = new Array();
				labeled_input = set_data(); // Set data
				parse_input(labeled_input); // Parse types of venues

				// Get data inputted and put in a labeled input array.
				function set_data() {

					var num_fields = 6;
					var fields = ["Type", "orig_ROI", "TPY", "TPrice", "Employee_wage", "Email_marketing"];
					var input = new Array()

					for (i = 0; i < num_fields; i++) {
						input[fields[i]] = document.getElementById("Revenue").elements[i].value;
					}

					return input;
				}

				//Parses inputs for type of venue
				function parse_input(labeled_input) {

					if ((labeled_input["Type"] == "Night Club, Promoter") || (labeled_input["Type"] == "Live Music")) {

						labeled_input["Type"] = 2;
						console.log("Found live music venue");
						//call live music

					}
					else if (labeled_input["Type"] == "Performing Arts") {

						labeled_input["Type"] = 3;
						console.log("Found PA");
						//call performing arts 
					}
					else if (labeled_input["Type"] == "Festival") {

						labeled_input["Type"] = 4;
						console.log("Found festival");
						//festival 
					}
					else if (labeled_input["Type"] == "University") {

						labeled_input["Type"] = 5;
						console.log("Found university");
						// university 
					}
					else {

						labeled_input["Type"] = 1;
						console.log("Found general");
						General(labeled_input);						
					}
				}
				
				// Helper function: Calculates ROI from ticket sales
				function ticket_sales(orig_ROI) {

					return .16 * orig_ROI;

				}

				// Helper function: Calculates hours saved from automation
				function automation(wage, hrs_saved) {
					return hrs_saved * wage * 52; 

				}

				// Helper function: Calculates ROI from social media
				function social_media(TPY, type) {

					if ((type == 2) || (type == 1) || (type == 4)) {
						return (TPY * (4.49 + 2.29));
					}
					else if (type == 3) {
						return (TPY * (4.01 + 0.72));
					}
		
				}

				// Helper function: Calculates ROI from online sales, because of fee
				function online_sales(TPY, TPrice, rate){

					//tickets sold online sell for 6.3% higher 
					return (rate * TPY) * (TPrice * .063);

				}

				// Helper function: Calculates money saved from email marketing manager
				function marketing(email_marketing, TPY){

					// 1 = Mailchimp 2 = Constant contact 3 = None """
					if (email_marketing == "Mailchimp") {
						if (TPY > 15000) {
					 		return 12 * 199.0;
						}
						else {
							return 12 * 10.0;
						}
					} 
					else if (email_marketing == "Constant Contact") {
						if (TPY <= 5000) {
							return 12 * 95.0;
						}
						else { 
							return 12 * 125.0;
						}
					}
					else {
						return 0;
					}
	
				}

				// Helper functions: Calculates money saved from donations manager 
				function donations(TPY){

					if (TPY <= 2000) { 
						return 12 * 99.0;
					}
					else if (2000 < TPY <= 5000) {
						return 12 * 199.0;
					}
					else if (5000 < TPY <= 15000) {
						return 12 * 299.0;
					}
					else {
						return 12 * 399.0;
					}
				}

				// General: Fill in ROI_breakdown array with values, call helpers.
				function General(labeled_input) {

					ROI_breakdown = new Array();
					var Total_ROI = 0;
					ROI_breakdown["Ticket_Sales"] = ticket_sales(labeled_input["orig_ROI"]);
					Total_ROI += ROI_breakdown["Ticket_Sales"];
					console.log(ROI_breakdown["Ticket_Sales"]);
					ROI_breakdown["Automation"] = automation(labeled_input["Employee_wage"], 10);
					Total_ROI += ROI_breakdown["Automation"];
					console.log(ROI_breakdown["Automation"]);
					ROI_breakdown["Social_Media"] = social_media(labeled_input["TPY"], labeled_input["Type"]);
					Total_ROI += ROI_breakdown["Social_Media"];
					console.log(ROI_breakdown["Social_Media"]);
					ROI_breakdown["Online_Sales"] = online_sales(labeled_input["TPY"], labeled_input["TPrice"], .80);
					Total_ROI += ROI_breakdown["Online_Sales"];
					console.log(ROI_breakdown["Online_Sales"]);
					ROI_breakdown["Email_marketing"] = marketing(labeled_input["Email_marketing"], labeled_input["TPY"]);
					Total_ROI += ROI_breakdown["Email_marketing"];
					console.log(ROI_breakdown["Email_marketing"]);
					ROI_breakdown["Donations"] = donations(labeled_input["TPY"]);
					Total_ROI += ROI_breakdown["Donations"];
					console.log(ROI_breakdown["Donations"]);
					ROI_breakdown["Total"] = Total_ROI;
					console.log(ROI_breakdown["Total"]);
				}
			
		}

		</script>


	</div>
</section>

</body>

</html>